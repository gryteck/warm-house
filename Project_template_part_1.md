# Задание 1. Анализ и планирование

Чтобы составить документ с описанием текущей архитектуры приложения, можно часть информации взять из описания компании условия задания. Это нормально.

### 1. Описание функциональности монолитного приложения

**Управление отоплением:**

- Пользователи могут управлять отоплением дистанционно

**Мониторинг температуры:**

- Пользователи могут проверять температуру
- Пользователь не может подключать свои датчики к системе
- Для установки вызывается специальный тех персонал

### 2. Анализ архитектуры монолитного приложения

- Язык программирования: Java
- База данных: PostgreSQL
- Архитектура: Монолитная, все компоненты системы (обработка запросов, бизнес-логика, работа с данными) находятся в рамках одного приложения.
- Взаимодействие: Синхронное, запросы обрабатываются последовательно.
- Масштабируемость: Ограничена, так как монолит сложно масштабировать по частям.
- Развёртывание: Требует остановки всего приложения.

### 3. Определение доменов и границы контекстов

Домены:
- Пользователи / Дома
- Устройства (Датчики / Отопление)
- Специалисты

### **4. Проблемы монолитного решения**

- Проблемы с поддержкой и доставной обновлений. При обновлении определенной части простой приходится на все приложение и в случае неудачи развертывания все приложение становится недоступным
- Проблемы с распределением ответственности. Это может быть решено строгим разделением по доменной области, однако расработка независимых микросервисов отдельными командами влечет большую гибкость в интеграциях обновлений и тестировании
- Распределение нагрузки и масштабирование определенных микросервисов в случае необходимости
- Отказоустойчивость. В случае падение определенного микросервиса это может не отразиться на всем функционале системы.
- Асинхронность. Микросервисы могут обмениваться сообщениями через брокер что позволит обрабатывать запросы асинхронно и с задержками в случае падения (без потерь сообщений)

### 5. Визуализация контекста системы — диаграмма С4

[Диаграмма C4 AsIs ](diagrams/asis.puml)

# Задание 2. Проектирование микросервисной архитектуры

В этом задании вам нужно предоставить только диаграммы в модели C4. Мы не просим вас отдельно описывать получившиеся микросервисы и то, как вы определили взаимодействия между компонентами To-Be системы. Если вы правильно подготовите диаграммы C4, они и так это покажут.

**Диаграмма контейнеров (Containers)**

[Диаграмма C4 Containers](diagrams/tobe_containers.puml)

**Диаграмма компонентов (Components)**

[Диаграмма C4 Components](diagrams/tobe_components.puml)

**Диаграмма кода (Code)**

[Диаграмма C4 Code](diagrams/tobe_code.puml)

**Диаграмма событий (Event)**

[Диаграмма Events](diagrams/tobe_events.puml)

# Задание 3. Разработка ER-диаграммы

[Диаграмма ER Containers](diagrams/tobe_er.puml)